<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Favourites</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>CMSC335s' Favourite Restaurants</h1>

    <div class="centered-section">
        <h2>CMSC335 Favourite Restaurants</h2>
        
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="error-message">
                <p><strong>Error:</strong> <%= error %></p>
            </div>
        <% } %>
        
        <% if (typeof favourites !== 'undefined' && favourites && favourites.length > 0) { %>
            <ul class="item-list">
                <% favourites.forEach(restaurant => { %>
                    <li class="list-item">
                        <h3><%= restaurant.name %></h3>
                        <p><strong>Address:</strong> <%= restaurant.vicinity %></p>
                        <p><strong>Rating:</strong> <%= restaurant.rating ? restaurant.rating + ' / 5' : 'Not rated' %></p>
                        <p><strong>Added on:</strong> <%= restaurant.dateAdded ? new Date(restaurant.dateAdded).toLocaleDateString() : 'Unknown' %></p>
                    </li>
                <% }); %>
            </ul>
        <% } else { %>
            <p>You haven't added any favourite restaurants yet.</p>
            <p>You can add restaurants to your favourites from the search results page.</p>
        <% } %>
        
        <div class="mt-20">
            <a href="/search">Search for Restaurants</a> | <a href="/">Back to Home</a>
        </div>
    </div>
    
    <hr>
</body>

</html>
